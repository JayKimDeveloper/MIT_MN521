# ===================================================================
# ì‹œë‚˜ë¦¬ì˜¤ 1: ê³ ê° í™•ì¥ í”Œë ˆì´ë¶ (Customer Expansion) - Access ìŠ¤ìœ„ì¹˜ ìˆ˜ë™ ì„¤ì • ë²„ì „
# íŒŒì¼ëª…: scenario1-customer-expansion.yml
# 
# ëª©ì : ê¸°ì¡´ ê³ ê°ì˜ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì„ í™•ì¥í•˜ì—¬ ì¶”ê°€ ì„œë¹„ìŠ¤ë‚˜ ì´ë²¤íŠ¸ë¥¼ ì§€ì›
# ë²”ìš©ì„±: ë‹¤ì–‘í•œ ê³ ê°ê³¼ VLANì— ì¬ì‚¬ìš© ê°€ëŠ¥
# ì œì•½ì‚¬í•­: Access ìŠ¤ìœ„ì¹˜ëŠ” vIOS L2 SSH ì œí•œìœ¼ë¡œ ìˆ˜ë™ ì„¤ì • í•„ìš”
# ===================================================================
---
- name: "ì‹œë‚˜ë¦¬ì˜¤ 1: ê³ ê° í™•ì¥ - ì´ˆê¸°í™” ë° ë³€ìˆ˜ í™•ì¸"
  hosts: localhost
  gather_facts: false
  vars:
    # ê¸°ë³¸ ì„¤ì • (vars íŒŒì¼ì´ë‚˜ extra-varsë¡œ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥)
    expansion:
      customer_id: "A"                    # í™•ì¥í•  ê³ ê° ID
      customer_name: "Customer A"         # ê³ ê° ì´ë¦„ (ë¡œê·¸ìš©)
      new_vlan_id: 105                    # ìƒˆë¡œ ì¶”ê°€í•  VLAN ID
      new_network: "10.100.50.0/24"      # ìƒˆ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­
      new_gateway: "10.100.50.1"         # ìƒˆ ê²Œì´íŠ¸ì›¨ì´ IP
      description: "Event Pool Service"   # ì„œë¹„ìŠ¤ ì„¤ëª…
      target_dist: "dist1-sw"            # ëŒ€ìƒ Distribution ìŠ¤ìœ„ì¹˜
      target_access: "access-sw4"        # ëŒ€ìƒ Access ìŠ¤ìœ„ì¹˜ (ìˆ˜ë™ ì„¤ì •)
      core_next_hop: "10.0.1.2"          # Coreì—ì„œ ì‚¬ìš©í•  Next Hop
      dist_interface: "GigabitEthernet2/0" # Dist ìŠ¤ìœ„ì¹˜ ì¸í„°í˜ì´ìŠ¤

    # ë¡œê·¸ ë° í™•ì¸ì„ ìœ„í•œ ì„¤ì •
    log_prefix: "[EXPANSION]"
    
  tasks:
    - name: "ğŸ“‹ ì‹œë‚˜ë¦¬ì˜¤ 1 ì‹œì‘ - {{ expansion.customer_name }} í™•ì¥"
      debug:
        msg: |
          ================================================
          ğŸš€ ì‹œë‚˜ë¦¬ì˜¤ 1: {{ expansion.customer_name }} ë„¤íŠ¸ì›Œí¬ í™•ì¥
          ================================================
          í™•ì¥ ì •ë³´:
          - ê³ ê° ID: {{ expansion.customer_id }}
          - ì‹ ê·œ VLAN: {{ expansion.new_vlan_id }}
          - ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­: {{ expansion.new_network }}
          - ê²Œì´íŠ¸ì›¨ì´: {{ expansion.new_gateway }}
          - ì„œë¹„ìŠ¤ ì„¤ëª…: {{ expansion.description }}
          - ëŒ€ìƒ ì¥ë¹„: {{ expansion.target_dist }} â†’ {{ expansion.target_access }} (ìˆ˜ë™)
          ================================================
          âš ï¸  ì°¸ê³ : Access ìŠ¤ìœ„ì¹˜ëŠ” vIOS L2 ì œí•œìœ¼ë¡œ ìˆ˜ë™ ì„¤ì •ë©ë‹ˆë‹¤.
          ================================================

    - name: "ë³€ìˆ˜ ìœ íš¨ì„± ê²€ì¦"
      assert:
        that:
          - expansion.customer_id is defined
          - expansion.new_vlan_id is defined
          - expansion.new_network is defined
          - expansion.new_gateway is defined
          - expansion.target_dist is defined
        fail_msg: "í•„ìˆ˜ ë³€ìˆ˜ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤. inventory íŒŒì¼(-i)ë„ í™•ì¸í•´ì£¼ì„¸ìš”."
        success_msg: "{{ log_prefix }} ê¸°ë³¸ ë³€ìˆ˜ ê²€ì¦ ì™„ë£Œ"
        
    - name: "Inventory ê·¸ë£¹ í™•ì¸"
      debug:
        msg: |
          Inventory ìƒíƒœ:
          - Distribution ê·¸ë£¹: {{ groups['distribution'] if 'distribution' in groups else 'ì—†ìŒ (inventory íŒŒì¼ í•„ìš”)' }}
          - Core ê·¸ë£¹: {{ groups['core'] if 'core' in groups else 'ì—†ìŒ (inventory íŒŒì¼ í•„ìš”)' }}
          
    - name: "Inventory ê²€ì¦"
      assert:
        that:
          - "'distribution' in groups"
          - "'core' in groups"
          - "expansion.target_dist in groups['distribution']"
        fail_msg: |
          Inventory ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•˜ì„¸ìš”:
          ansible-playbook scenario1-customer-expansion.yml -i inventory/hosts.ini -e @vars/scenario1_customer_a_expansion.yml
        success_msg: "{{ log_prefix }} Inventory ê²€ì¦ ì™„ë£Œ"

- name: "Core Router - {{ expansion.customer_name }} í™•ì¥ì„ ìœ„í•œ ë¼ìš°íŒ… ì¶”ê°€"
  hosts: core
  gather_facts: false
  vars:
    expansion: "{{ hostvars['localhost']['expansion'] }}"
    log_prefix: "{{ hostvars['localhost']['log_prefix'] }}"
    
  tasks:
    - name: "{{ log_prefix }} Core Router í˜„ì¬ ë¼ìš°íŒ… í…Œì´ë¸” í™•ì¸"
      ios_command:
        commands:
          - "show ip route | include {{ expansion.new_network.split('/')[0].split('.')[0:3] | join('.') }}"
      register: current_routes
      ignore_errors: true
      
    - name: "{{ log_prefix }} ê¸°ì¡´ ë¼ìš°íŒ… ì¤‘ë³µ í™•ì¸"
      debug:
        msg: |
          ê¸°ì¡´ ë¼ìš°íŒ… í™•ì¸:
          {{ current_routes.stdout[0] if current_routes is succeeded and current_routes.stdout[0] is defined else 'ê´€ë ¨ ë¼ìš°íŒ… ì—†ìŒ (í™•ì¸ ë¶ˆê°€)' }}
          
    - name: "{{ log_prefix }} {{ expansion.customer_name }} í™•ì¥ ë„¤íŠ¸ì›Œí¬ ë¼ìš°íŒ… ì¶”ê°€"
      ios_config:
        lines:
          - "ip route {{ expansion.new_network }} {{ expansion.new_netmask }} {{ expansion.core_next_hop }}"
        save_when: modified
      register: core_route_result
      vars:
        ansible_command_timeout: 60
      
    - name: "{{ log_prefix }} Core Router ë¼ìš°íŒ… ì¶”ê°€ ê²°ê³¼ í™•ì¸"
      ios_command:
        commands:
          - "show ip route {{ expansion.new_network }}"
      register: new_route_verify
      
    - name: "{{ log_prefix }} Core Router ì„¤ì • ê²°ê³¼"
      debug:
        msg: |
          âœ… Core Router ë¼ìš°íŒ… ì„¤ì • ì™„ë£Œ
          - ë„¤íŠ¸ì›Œí¬: {{ expansion.new_network }}
          - Next Hop: {{ expansion.core_next_hop }}
          - ë¼ìš°íŒ… ìƒíƒœ: {{ new_route_verify.stdout[0] }}

- name: "Distribution Switch - {{ expansion.customer_name }} í™•ì¥ VLAN ì„œë¸Œì¸í„°í˜ì´ìŠ¤ ìƒì„±"
  hosts: distribution
  gather_facts: false
  vars:
    expansion: "{{ hostvars['localhost']['expansion'] }}"
    log_prefix: "{{ hostvars['localhost']['log_prefix'] }}"
    
  tasks:
    - name: "{{ log_prefix }} {{ expansion.target_dist }} í˜„ì¬ ì¸í„°í˜ì´ìŠ¤ í™•ì¸"
      ios_command:
        commands:
          - "show ip interface brief | include {{ expansion.dist_interface }}"
      register: current_interfaces
      when: inventory_hostname == expansion.target_dist
      
    - name: "{{ log_prefix }} ê¸°ì¡´ ì„œë¸Œì¸í„°í˜ì´ìŠ¤ ì¤‘ë³µ í™•ì¸"
      ios_command:
        commands:
          - "show interface {{ expansion.dist_interface }}.{{ expansion.new_vlan_id }}"
      register: existing_subint
      ignore_errors: true
      when: inventory_hostname == expansion.target_dist
      
    - name: "{{ log_prefix }} ì¤‘ë³µ í™•ì¸ ê²°ê³¼"
      debug:
        msg: |
          ì„œë¸Œì¸í„°í˜ì´ìŠ¤ ì¤‘ë³µ í™•ì¸:
          {{ 'VLAN ' + expansion.new_vlan_id|string + ' ì´ë¯¸ ì¡´ì¬' if existing_subint.stdout[0] is defined and 'line protocol' in existing_subint.stdout[0] else 'VLAN ' + expansion.new_vlan_id|string + ' ì‚¬ìš© ê°€ëŠ¥' }}
      when: inventory_hostname == expansion.target_dist
      
    - name: "{{ log_prefix }} {{ expansion.customer_name }} í™•ì¥ VLAN ì„œë¸Œì¸í„°í˜ì´ìŠ¤ ìƒì„±"
      ios_config:
        lines:
          - "interface {{ expansion.dist_interface }}.{{ expansion.new_vlan_id }}"
          - "encapsulation dot1Q {{ expansion.new_vlan_id }}"
          - "ip address {{ expansion.new_gateway }} 255.255.255.0"
          - "no shutdown"
        save_when: modified
      when: inventory_hostname == expansion.target_dist
      register: dist_config_result
      
    - name: "{{ log_prefix }} Distribution ìŠ¤ìœ„ì¹˜ ì„¤ì • í™•ì¸"
      ios_command:
        commands:
          - "show interface {{ expansion.dist_interface }}.{{ expansion.new_vlan_id }}"
          - "show ip interface brief | include {{ expansion.dist_interface }}.{{ expansion.new_vlan_id }}"
      register: dist_verify
      when: inventory_hostname == expansion.target_dist
      
    - name: "{{ log_prefix }} Distribution ìŠ¤ìœ„ì¹˜ ì„¤ì • ê²°ê³¼"
      debug:
        msg: |
          âœ… {{ expansion.target_dist }} ì„¤ì • ì™„ë£Œ
          - VLAN ID: {{ expansion.new_vlan_id }}
          - ë„¤íŠ¸ì›Œí¬: {{ expansion.new_network }}
          - ê²Œì´íŠ¸ì›¨ì´: {{ expansion.new_gateway }}
          - ì¸í„°í˜ì´ìŠ¤ ìƒíƒœ: {{ dist_verify.stdout[1] if dist_verify.stdout[1] is defined else 'í™•ì¸ ì¤‘...' }}
      when: inventory_hostname == expansion.target_dist

- name: "Access Switch ìˆ˜ë™ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ìƒì„±"
  hosts: localhost
  gather_facts: true
  vars:
    expansion: "{{ hostvars['localhost']['expansion'] }}"
    log_prefix: "{{ hostvars['localhost']['log_prefix'] }}"
    
  tasks:
    - name: "logs ë””ë ‰í† ë¦¬ ìƒì„±"
      file:
        path: "./logs"
        state: directory
      delegate_to: localhost

    - name: "{{ log_prefix }} Access Switch ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ìƒì„±"
      copy:
        content: |
          #!/bin/bash
          # {{ expansion.target_access }} ìˆ˜ë™ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
          # {{ expansion.customer_name }} - {{ expansion.description }}
          # ìƒì„±ì¼: {{ ansible_date_time.iso8601 }}
          
          echo "================================================"
          echo "{{ expansion.target_access }} ìˆ˜ë™ ì„¤ì • ê°€ì´ë“œ"
          echo "================================================"
          echo ""
          echo "âš ï¸  ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ê°€ì´ë“œìš©ì…ë‹ˆë‹¤. Access ìŠ¤ìœ„ì¹˜ì— ì½˜ì†”ë¡œ ì ‘ì†í•˜ì—¬ ìˆ˜ë™ ì‹¤í–‰í•˜ì„¸ìš”."
          echo ""
          echo "1. {{ expansion.target_access }}ì— ì½˜ì†” ì ‘ì†"
          echo ""
          echo "2. ì—…ë§í¬ í¬íŠ¸ íŠ¸ëŸ°í¬ ì„¤ì • (ì¤‘ìš”!):"
          echo "Switch> enable"
          echo "Switch# configure terminal"
          echo ""
          echo "# ì—…ë§í¬ í¬íŠ¸ë¥¼ íŠ¸ëŸ°í¬ë¡œ ì„¤ì • (dist2-sw ì—°ê²° í¬íŠ¸)"
          echo "Switch(config)# interface GigabitEthernet0/0"
          echo "Switch(config-if)# switchport trunk encapsulation dot1q"
          echo "Switch(config-if)# switchport mode trunk"
          echo "Switch(config-if)# switchport trunk allowed vlan {{ expansion.new_vlan_id }}"
          echo "Switch(config-if)# no shutdown"
          echo "Switch(config-if)# exit"
          echo ""
          echo "3. VLAN ìƒì„±:"
          echo "Switch(config)# vlan {{ expansion.new_vlan_id }}"
          echo "Switch(config-vlan)# name {{ expansion.customer_id }}_{{ expansion.description | replace(' ', '_') }}"
          echo "Switch(config-vlan)# exit"
          echo ""
          echo "4. ê³ ê° í¬íŠ¸ë¥¼ VLANì— í• ë‹¹:"
          echo "Switch(config)# interface range GigabitEthernet0/1-2"
          echo "Switch(config-if-range)# switchport mode access"
          echo "Switch(config-if-range)# switchport access vlan {{ expansion.new_vlan_id }}"
          echo "Switch(config-if-range)# no shutdown"
          echo "Switch(config-if-range)# exit"
          echo ""
          echo "5. Spanning Tree ìµœì í™” (ì„ íƒì ):"
          echo "Switch(config)# interface GigabitEthernet0/0"
          echo "Switch(config-if)# spanning-tree portfast trunk"
          echo "Switch(config-if)# exit"
          echo ""
          echo "6. ì„¤ì • ì €ì¥:"
          echo "Switch(config)# exit"
          echo "Switch# write memory"
          echo ""
          echo "7. ì„¤ì • í™•ì¸:"
          echo "Switch# show interface trunk"
          echo "Switch# show vlan brief"
          echo "Switch# show spanning-tree vlan {{ expansion.new_vlan_id }}"
          echo ""
          echo "================================================"
          echo "ë¬¸ì œí•´ê²° ê°€ì´ë“œ:"
          echo "================================================"
          echo "- pingì´ ì•ˆ ë˜ë©´: Spanning Treeê°€ ìˆ˜ë ´í•  ë•Œê¹Œì§€ ëŒ€ê¸° (30ì´ˆ~1ë¶„)"
          echo "- íŠ¸ë˜í”½ í™•ì¸: show interface trunk"
          echo "- MAC í•™ìŠµ í™•ì¸: show mac address-table vlan {{ expansion.new_vlan_id }}"
          echo "================================================"
        dest: "./logs/{{ expansion.target_access }}_setup_vlan{{ expansion.new_vlan_id }}.sh"
        mode: '0755'
      delegate_to: localhost
      
    - name: "{{ log_prefix }} VPCS ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ìƒì„±"
      copy:
        content: |
          #!/bin/bash
          # VPCS ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
          # {{ expansion.customer_name }} - {{ expansion.description }}
          # ìƒì„±ì¼: {{ ansible_date_time.iso8601 }}
          
          echo "================================================"
          echo "VPCS ìˆ˜ë™ ì„¤ì • ê°€ì´ë“œ"
          echo "================================================"
          echo ""
          echo "{{ expansion.target_access }}ì— ì—°ê²°ëœ VPCSë“¤ì— ë‹¤ìŒ ì„¤ì • ì ìš©:"
          echo ""
          {% if vpcs_config is defined %}
          {% for vpcs in vpcs_config %}
          echo "{{ vpcs.name }} ({{ vpcs.description }}) ì„¤ì •:"
          echo "VPCS> ip {{ vpcs.ip }} {{ vpcs.gateway }}"
          echo "VPCS> save"
          echo ""
          {% endfor %}
          {% else %}
          echo "VPCS-{{ expansion.customer_id }}4 ì„¤ì •:"
          echo "VPCS> ip 10.100.50.10/24 {{ expansion.new_gateway }}"
          echo "VPCS> save"
          echo ""
          echo "VPCS-{{ expansion.customer_id }}5 ì„¤ì •:"
          echo "VPCS> ip 10.100.50.20/24 {{ expansion.new_gateway }}"
          echo "VPCS> save"
          echo ""
          {% endif %}
          echo "ì—°ê²°ì„± í…ŒìŠ¤íŠ¸:"
          echo "VPCS> ping {{ expansion.new_gateway }}"
          echo "VPCS> ping 10.100.10.10  # ê¸°ì¡´ Customer A ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸"
          echo ""
          echo "================================================"
        dest: "./logs/vpcs_setup_{{ expansion.customer_id }}_vlan{{ expansion.new_vlan_id }}.sh"
        mode: '0755'
      delegate_to: localhost

- name: "ì—°ê²°ì„± í…ŒìŠ¤íŠ¸ ë° ê²€ì¦"
  hosts: localhost
  gather_facts: false
  vars:
    expansion: "{{ hostvars['localhost']['expansion'] }}"
    log_prefix: "{{ hostvars['localhost']['log_prefix'] }}"
    
  tasks:
    - name: "{{ log_prefix }} Coreì—ì„œ ìƒˆ ê²Œì´íŠ¸ì›¨ì´ë¡œ ì—°ê²°ì„± í…ŒìŠ¤íŠ¸"
      ios_command:
        commands:
          - "ping {{ expansion.new_gateway }}"
      register: ping_test
      delegate_to: "{{ groups['core'][0] }}"
      ignore_errors: true
      
    - name: "{{ log_prefix }} ì—°ê²°ì„± í…ŒìŠ¤íŠ¸ ê²°ê³¼"
      debug:
        msg: |
          ğŸ” ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„± í…ŒìŠ¤íŠ¸:
          {{ 'âœ… Core â†’ Gateway ì—°ê²° ì„±ê³µ' if ping_test is succeeded and ping_test.stdout[0] is defined and 'Success rate is 100' in ping_test.stdout[0] else 'âš ï¸  Core â†’ Gateway ì—°ê²° í™•ì¸ í•„ìš” (ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ê¶Œì¥)' }}

- name: "ì‹œë‚˜ë¦¬ì˜¤ 1 ì™„ë£Œ ë° ë‹¤ìŒ ë‹¨ê³„ ì•ˆë‚´"
  hosts: localhost
  gather_facts: false
  vars:
    expansion: "{{ hostvars['localhost']['expansion'] }}"
    
  tasks:
    - name: "ğŸ‰ ì‹œë‚˜ë¦¬ì˜¤ 1 ì™„ë£Œ - {{ expansion.customer_name }} í™•ì¥"
      debug:
        msg: |
          ================================================
          âœ… ì‹œë‚˜ë¦¬ì˜¤ 1 ì™„ë£Œ: {{ expansion.customer_name }} ë„¤íŠ¸ì›Œí¬ í™•ì¥
          ================================================
          
          ìë™ êµ¬ì„± ì™„ë£Œ:
          - âœ… Core Router: {{ expansion.new_network }} â†’ {{ expansion.core_next_hop }} ë¼ìš°íŒ… ì¶”ê°€
          - âœ… {{ expansion.target_dist }}: VLAN {{ expansion.new_vlan_id }} ì„œë¸Œì¸í„°í˜ì´ìŠ¤ ìƒì„±
          - âœ… ê²Œì´íŠ¸ì›¨ì´ {{ expansion.new_gateway }} ì„¤ì • ì™„ë£Œ
          
          ğŸ“‹ ìˆ˜ë™ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ìƒì„± ì™„ë£Œ:
          ================================================
          - ./logs/{{ expansion.target_access }}_setup_vlan{{ expansion.new_vlan_id }}.sh
          - ./logs/vpcs_setup_{{ expansion.customer_id }}_vlan{{ expansion.new_vlan_id }}.sh
          
          ğŸ“ ë‹¤ìŒ ìˆ˜ë™ ì‘ì—…:
          ================================================
          1. {{ expansion.target_access }} ì½˜ì†” ì ‘ì† í›„ ìŠ¤í¬ë¦½íŠ¸ ì°¸ì¡°
          2. VLAN {{ expansion.new_vlan_id }} ìƒì„± ë° í¬íŠ¸ í• ë‹¹
          3. VPCS IP ì„¤ì • (ìŠ¤í¬ë¦½íŠ¸ ì°¸ì¡°)
          4. ì—°ê²°ì„± í…ŒìŠ¤íŠ¸: ping {{ expansion.new_gateway }}
          
          âš ï¸  ì°¸ê³ : Access ìŠ¤ìœ„ì¹˜ëŠ” vIOS L2 ì œí•œìœ¼ë¡œ ìˆ˜ë™ ì„¤ì • í•„ìš”
          ================================================

    - name: "í™•ì¥ ì™„ë£Œ ì •ë³´ ì €ì¥ (ë¡œê·¸ìš©)"
      copy:
        content: |
          # {{ expansion.customer_name }} í™•ì¥ ì™„ë£Œ ì •ë³´
          # ìƒì„±ì¼: {{ ansible_date_time.iso8601 }}
          
          ê³ ê°ì •ë³´:
            ID: {{ expansion.customer_id }}
            ì´ë¦„: {{ expansion.customer_name }}
            
          ë„¤íŠ¸ì›Œí¬ ì •ë³´:
            VLAN: {{ expansion.new_vlan_id }}
            ë„¤íŠ¸ì›Œí¬: {{ expansion.new_network }}
            ê²Œì´íŠ¸ì›¨ì´: {{ expansion.new_gateway }}
            
          ì¥ë¹„ ì •ë³´:
            Distribution: {{ expansion.target_dist }} (ìë™ ì„¤ì • ì™„ë£Œ)
            Access: {{ expansion.target_access }} (ìˆ˜ë™ ì„¤ì • í•„ìš”)
            
          ì„œë¹„ìŠ¤ ì •ë³´:
            ì„¤ëª…: {{ expansion.description }}
            ìƒíƒœ: ë„¤íŠ¸ì›Œí¬ ê³„ì¸µ ì™„ë£Œ, Access ê³„ì¸µ ìˆ˜ë™ ì„¤ì • ëŒ€ê¸°
        dest: "./logs/expansion_{{ expansion.customer_id }}_vlan{{ expansion.new_vlan_id }}_{{ ansible_date_time.epoch }}.log"
      delegate_to: localhost

# ===================================================================
# ë³€ìˆ˜ ì˜¤ë²„ë¼ì´ë“œ ì˜ˆì‹œ (vars íŒŒì¼ ë˜ëŠ” extra-vars ì‚¬ìš©)
# ===================================================================
# 
# Customer B í™•ì¥ ì˜ˆì‹œ:
# ansible-playbook scenario1-customer-expansion.yml -e "
# expansion={
#   customer_id: 'B',
#   customer_name: 'Customer B',
#   new_vlan_id: 205,
#   new_network: '10.200.50.0/24',
#   new_gateway: '10.200.50.1',
#   description: 'Analytics Service',
#   target_dist: 'dist1-sw',
#   target_access: 'access-sw3',
#   core_next_hop: '10.0.1.2',
#   dist_interface: 'GigabitEthernet2/0'
# }"
